<?xml version="1.0" encoding="UTF-8"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0" xml:id="KUPIETZ_Marc_National_Library_as_Corpus__Introducing_DeLiKo_">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title type="full">
                    <title type="main">National Library as Corpus: Introducing DeLiKo@DNB – a Large Synchronous German Fiction Corpus</title>
                    <title type="sub"/>
                </title>
                <author>
                    <persName>
                        <surname>Kupietz</surname>
                        <forename>Marc</forename>
                    </persName>
                    <affiliation>Leibniz-Institut für Deutsche Sprache, Germany</affiliation>
                    <email>kupietz@ids-mannheim.de</email>
                    <idno type="ORCID">0000-0001-8997-8256</idno>
                </author>
                <author>
                    <persName>
                        <surname>Leinen</surname>
                        <forename>Peter</forename>
                    </persName>
                    <affiliation>Deutsche Nationalbibliothek, Germany</affiliation>
                    <email>p.leinen@dnb.de</email>
                    <idno type="ORCID">0000-0002-3014-000X</idno>
                </author>
                <author>
                    <persName>
                        <surname>Diewald</surname>
                        <forename>Nils</forename>
                    </persName>
                    <affiliation>Leibniz-Institut für Deutsche Sprache, Germany</affiliation>
                    <email>diewald@ids-mannheim.de</email>
                    <idno type="ORCID">0000-0002-2993-9180</idno>
                </author>
                <author>
                    <persName>
                        <surname>Genêt</surname>
                        <forename>Philippe</forename>
                    </persName>
                    <affiliation>Deutsche Nationalbibliothek, Germany</affiliation>
                    <email>p.genet@dnb.de</email>
                    <idno type="ORCID">0009-0001-5095-8052</idno>
                </author>
                <author>
                    <persName>
                        <surname>Wilm</surname>
                        <forename>Rebecca</forename>
                    </persName>
                    <affiliation>Leibniz-Institut für Deutsche Sprache, Germany</affiliation>
                    <email>wilm@ids-mannheim.de</email>
                    <idno type="ORCID">0000-0002-7273-7832</idno>
                </author>
                <author>
                    <persName>
                        <surname>Witt</surname>
                        <forename>Andreas</forename>
                    </persName>
                    <affiliation>Leibniz-Institut für Deutsche Sprache, Germany</affiliation>
                    <email>witt@ids-mannheim.de</email>
                    <idno type="ORCID">0000-0002-0299-5713</idno>
                </author>
                <author>
                    <persName>
                        <surname>Yaddehige</surname>
                        <forename>Rameela</forename>
                    </persName>
                    <affiliation>Leibniz-Institut für Deutsche Sprache, Germany</affiliation>
                    <email>yaddehige@ids-mannheim.de</email>
                    <idno type="ORCID">0009-0008-3216-5797</idno>
                </author>
            </titleStmt>
            <editionStmt>
                <edition>
                    <date>2024-11-29T16:44:32.411369711</date>
                </edition>
            </editionStmt>
            <publicationStmt>
                <publisher>Bielefeld Computational Literary Studies Group</publisher>
                <address>
                    <addrLine>Universität Bielefeld</addrLine>
                    <addrLine>Universitätsstraße 25</addrLine>
                    <addrLine>33615 Bielefeld</addrLine>
                    <addrLine>Deutschland</addrLine>
                </address>
                <publisher>Digital History</publisher>
                <address>
                    <addrLine>Universität Bielefeld</addrLine>
                    <addrLine>Universitätsstraße 25</addrLine>
                    <addrLine>33615 Bielefeld</addrLine>
                    <addrLine>Deutschland</addrLine>
                </address>
                <publisher>Digital Linguistics Lab</publisher>
                <address>
                    <addrLine>Universität Bielefeld</addrLine>
                    <addrLine>Universitätsstraße 25</addrLine>
                    <addrLine>33615 Bielefeld</addrLine>
                    <addrLine>Deutschland</addrLine>
                </address>
            </publicationStmt>
            <sourceDesc>
                <p>Converted from an OASIS Open Document</p>
            </sourceDesc>
        </fileDesc>
        <encodingDesc>
            <appInfo>
                <application ident="DHCONVALIDATOR" version="1.22">
                    <label>DHConvalidator</label>
                </application>
            </appInfo>
        </encodingDesc>
        <profileDesc>
            <textClass>
                <keywords scheme="ConfTool" n="category">
                    <term>Paper</term>
                </keywords>
                <keywords scheme="ConfTool" n="subcategory">
                    <term>Poster</term>
                </keywords>
                <keywords scheme="ConfTool" n="keywords">
                    <term>corpus</term>
                    <term>literature</term>
                    <term>fiction</term>
                    <term>contemporary</term>
                    <term>linguistic annotation</term>
                    <term>metadata</term>
                    <term>corpus analysis</term>
                    <term>IPR</term>
                    <term>library as corpus</term>
                </keywords>
                <keywords scheme="ConfTool" n="topics">
                    <term>Umwandlung</term>
                    <term>Sammlung</term>
                    <term>Annotieren</term>
                    <term>Literatur</term>
                    <term>Text</term>
                    <term>virtuelle Forschungsumgebungen</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text>
        <body>
            <div type="div1" rend="DH-Heading1">
                <head>
                    <anchor xml:id="id__p0lntiecgylq"/>Introduction
                </head>
                <p>Fiction books are weakly represented in the German Reference Corpus DeReKo (Kupietz et al. 2010, 2018). This is primarily due to the tremendously higher costs associated with licensing and converting raw fiction data into TEI-encoded XML format, compared to newspaper articles (Kupietz et al. 2014, p. 2). In the following, we discuss how we addressed these challenges and successfully created a large extensible corpus of recent fiction books. </p>
            </div>
            <div type="div1" rend="DH-Heading1">
                <head>
                    <anchor xml:id="id__yumi8qsfk9xw"/>The Legal Challenge
                </head>
                <p>Linguistics and literary studies both face the challenge that their research data is affected by third-party rights. Obtaining transferable, uniform licenses for German fiction books is particularly costly as no licensing models for non-expressive use (previously also called “non-consumptive use”, see Kamocki 2018) of entire texts as primary research data are generally established. Moreover, individual author permissions are often required, since the use of texts as research data is not covered by standard licensing agreements between authors and publishers.</p>
                <p>Our solution to this challenge consists of two main pillars: The first leverages § 14 of the German National Library Act (DNBG) requiring submission of all digitally published media works to the DNB. The second pillar is part of the general strategy adopted for DeReKo to address legal issues through infrastructural means, following Jim Gray's (2003) famous principle: 
                    <hi rend="italic">If the data cannot move, put the computation near the data </hi>(Kupietz, Diewald, and Margaretha 2022, 163ff)
                    <hi rend="italic">. </hi>In this application case, our approach is to leave the full texts in the DNB and make them accessible via an instance of the corpus analysis platform KorAP (Bański et al. 2012) running within DNB. This ensures that the data can be made available more openly than under the text and data mining exception,
                    <hi rend="sup"><ref n="1" target="ftn1"/>
                    </hi> and be used as effectively as possible for linguistic and related research purposes, but within the limits set by copyright law. The main restriction is that the context size of each search result is limited to a maximum of 50 words.
                </p>
            </div>
            <div type="div1" rend="DH-Heading1">
                <head>
                    <anchor xml:id="id__a4fb7fwmx5v0"/>Data and Methods
                </head>
                <p>To address the second challenge, and to make conversion into high-quality TEI-XML encoded corpora feasible, we ignored PDF ebooks and limited our focus to the 273,976 books available in the XML-based EPUB format and drew a 10% random sample from these as a first step, stratified by year of publication, resulting in a sample of 26,091 ebooks. As a second step, on the occasion of the 20th anniversary of the German Book Prize in October 2024, we added all 362 digitally available longlisted titles from the past two decades to the corpus, in cooperation with the German Publishers and Booksellers Association. To convert the data to the TEI I5 format (Lüngen and Sperberg-McQueen 2012) used by DeReKo, we applied XSLT 3.0 stylesheets in three passes, via the Saxon XSLT processor and GNU Make, using the DNB SRU API to retrieve consistent metadata, a heuristic genre classifier based on this, and a MALLET (McCallum 2002) based implementation of the standard DeReKo topic domain classifier (Weiß 2005; Klosa, Lüngen, and Kupietz 2012). In subsequent steps, the TEI-XML data was converted to KorAP-XML format and annotated for POS and lemma using the TreeTagger (Schmid 1994), for POS and morphosyntactic properties using MarMoT (Mueller et al. 2013), and dependencies using MaltParser (Nivre et al. 2007). These tools were selected due to their good balance between accuracy and performance.
                    <hi rend="sup"><ref n="2" target="ftn2"/>
                    </hi> If required for specific applications, additional annotation layers can be added later, since KorAP supports any number of them.
                    <hi rend="sup"><ref n="3" target="ftn3"/>
                    </hi>
                </p>
                <p>The entire conversion and annotation process was completed in 48 hours on a Linux server with 96 cores and 1.5 TB of RAM. The composition of the resulting corpus, categorized by genres and publication years, is presented in Figure 1. Genre classifications were derived from the DNB metadata using string matching heuristics.
                    <hi rend="sup"><ref n="4" target="ftn4"/>
                    </hi> It is important to note that the relative proportions and the ‘representativeness’ or ‘balance’ of strata are not relevant in the case of DeLiKo@DNB. Instead, only the minimum absolute sizes of the strata are important, as users are invited to define their own virtual subcorpora. This allows them to create stratified, task-specific subsamples based on metadata constraints (see Kupietz et al. 2010; Kupietz 2016 for a detailed account of this 
                    <hi rend="italic">primordial sample </hi>approach).
                </p>
                <p>
                    <figure>
                        <graphic url="Pictures/82059be6af9e6d70f09ff3ccb59b18eb.png"/>
                        <head>Figure 1: DeLiKo@DNB composition by publication year and genre (log scaled)</head>
                    </figure>
                </p>
            </div>
            <div type="div1" rend="DH-Heading1">
                <head>
                    <anchor xml:id="id__s65vzk3td3i2"/>Using DeLiKo@DNB
                </head>
                <p>DeLiKo@DNB, currently comprising 2.02 billion words, is freely accessible through the website 
                    <ref target="https://korap.dnb.de/">
                        <hi rend="color(#1155cc)underline">https://korap.dnb.de</hi>
                    </ref> (see Figure 1), leveraging the full range of KorAP features, such as flexible metadata-based definition of virtual subcorpora, multiple annotation layers, and complex annotation search in six supported query languages, simplified by a query assistant and query-by-match functionalities. The corpus is also accessible via the KorAP API, supported by libraries for R
                    <hi rend="sup"><ref n="5" target="ftn5"/>
                    </hi> and Python
                    <hi rend="sup"><ref n="6" target="ftn6"/>
                    </hi> (Kupietz, Diewald, and Margaretha 2022).
                </p>
            </div>
            <div type="div1" rend="DH-Heading1">
                <head>
                    <anchor xml:id="id__osvnjfxwva2k"/>Outlook
                </head>
                <p>We aim to regularly expand the corpus by incorporating newly published books. Additionally, we plan to enhance the search and analysis capabilities by integrating advancements from the long-term KorAP project, including updates to the user interface and client libraries. Further additions, improvements, and extensions, concerning e.g. the addition of books, text classifications, or annotation layers, will be driven by the demands of the user communities engaging with DeLiKo@DNB.</p>
                <p>
                    <figure>
                        <graphic url="Pictures/bc38e9233a3e4d02f9c97410ec9d337e.png"/>
                        <head>Figure 2: KorAP query in DeLiKo@DNB for the lemma 'Herz' (heart) followed by a verb and an adjective, in a virtual corpus containing only horror novels, published between 2010 and 2019</head>
                    </figure>
                </p>
            </div>
        </body>
        <back>
<div type="notes">
<note xml:id="ftn1" rend="footnote text" n="1">The German TDM implementation (§ 60d UrhG) allows only “to make the corpus available to the public for a specifically limited circle of persons for their joint scientific research“. For the DNB's holdings, this is only possible on the DNB's premises.</note>
<note xml:id="ftn2" rend="footnote text" n="2">The source code of the conversion pipeline is available on GitHub at 
                            
                        </note>
<note xml:id="ftn3" rend="footnote text" n="3">For the advantages of maximising recall or precision via multiple classifiers, instead of trying to increase accuracy with just one classifier, see Belica et al. (2011).</note>
    <note xml:id="ftn4" rend="footnote text" n="4">See the genre table in  https://github.com/KorAP/epub2korap/blob/main/xslt/epub2i5.xsl
                            
                        </note>
    <note xml:id="ftn5" rend="footnote text" n="5">See https://cran.r-project.org/package=RKorAPClient. An example R script that produces Figure 1 can be found here https://github.com/KorAP/epub2korap/blob/main/scripts/DeLiKoCompositionChart.R.
                        </note>
<note xml:id="ftn6" rend="footnote text" n="6">
    https://pypi.org/project/KorAPClient/
                        </note></div>
            <div type="bibliogr">
                <listBibl>
                    <head>Bibliographie</head>
                    <bibl><hi rend="bold">Bański, Piotr, Peter M. Fischer, Elena Frick, Erik Ketzan, Marc Kupietz, Carsten Schnober, Oliver Schonefeld, and Andreas Witt</hi>. 2012. “The New IDS Corpus Analysis Platform: Challenges and Prospects.” In 
                        <hi rend="italic">Proceedings of the Eighth International Conference on Language Resources and Evaluation (LREC’12)</hi>, 2905–11. Istanbul, Turkey: European Language Resources Association (ELRA).
                        <ref target="http://www.lrec-conf.org/proceedings/lrec2012/pdf/789_Paper.pdf"> </ref>
                        <ptr target="http://www.lrec-conf.org/proceedings/lrec2012/pdf/789_Paper.pdf"/>.
                    </bibl>
                    <bibl><hi rend="bold">Belica, Cyril, Marc Kupietz, Harald Lüngen, and Andreas Witt</hi>. 2011. “The Morphosyntactic Annotation of DeReKo: Interpretation, Opportunities and Pitfalls.” In Grammar &amp; Corpora. Third International Conference, Mannheim, Sept., 22-24 2009, 451–69. Tübingen: Narr. 
                        <ptr target="https://nbn-resolving.org/urn:nbn:de:bsz:mh39-44890"/>.
                    </bibl>
                    <bibl><hi rend="bold">Gray, Jim</hi>. 2003. “Distributed Computing Economics.” MSR-TR-2003-24. Microsoft Research.</bibl>
                    <bibl><hi rend="bold">Kamocki, Paweł</hi>. 2018. “The Argument for ‘Non-Consumptive Use’ in the EU: How Copyright Could Be Redefined to Allow Text and Data Mining.” In 
                        <hi rend="italic">Intellectual Property Perspectives on the Regulation of New Technologies</hi>, 237–58. Edward Elgar Publishing.
                        <ref target="https://doi.org/10.4337/9781786436382.00016"> </ref>
                        <ptr target="https://doi.org/10.4337/9781786436382.00016"/>.
                    </bibl>
                    <bibl><hi rend="bold">Klosa, Annette, Marc Kupietz, and Harald Lüngen</hi>. 2012. “Zum Nutzen von Korpusauszeichnungen für die Lexikographie.” 
                        <hi rend="italic">Lexicographica</hi> 28:71–97.
                    </bibl>
                    <bibl><hi rend="bold">Kupietz, Marc</hi>. 2016. “Constructing a Corpus.” In The Oxford Handbook of Lexicography, edited by Philip Durkin, 62–75. Oxford: OUP. 
                        <ptr target="https://doi.org/10.1093/oxfordhb/9780199691630.013.5"/>
                    </bibl>
                    <bibl><hi rend="bold">Kupietz, Marc, Cyril Belica, Holger Keibel, and Andreas Witt</hi>. 2010. “The German Reference Corpus DeReKo: A Primordial Sample for Linguistic Research.” In 
                        <hi rend="italic">Proceedings of the Seventh International Conference on Language Resources and Evaluation (LREC’10)</hi>. Valletta, Malta: European Language Resources Association (ELRA).
                        <ref target="http://www.lrec-conf.org/proceedings/lrec2010/pdf/414_Paper.pdf"> </ref>
                        <ptr target="http://www.lrec-conf.org/proceedings/lrec2010/pdf/414_Paper.pdf"/>.
                    </bibl>
                    <bibl><hi rend="bold">Kupietz, Marc, Nils Diewald, and Eliza Margaretha</hi>. 2022. “Building Paths to Corpus Data: A Multi-Level Least Effort and Maximum Return Approach.” In 
                        <hi rend="italic">CLARIN. The Infrastructure for Language Resources.</hi>, edited by Darja Fišer and Andreas Witt. Berlin: deGruyter.
                        <ref target="https://doi.org/10.1515/9783110767377-007"> </ref>
                        <ptr target="https://doi.org/10.1515/9783110767377-007"/>.
                    </bibl>
                    <bibl><hi rend="bold">Kupietz, Marc, Harald Lüngen, Piotr Bański, and Cyril Belica</hi>. 2014. “Maximizing the Potential of Very Large Corpora.” In 
                        <hi rend="italic">Proceedings of the LREC-2014-Workshop Challenges in the Management of Large Corpora (CMLC2)</hi>, edited by Marc Kupietz, Hanno Biber, Harald Lüngen, Piotr Bański, Evelyn Breiteneder, Karlheinz Mörth, Andreas Witt, and Jani Takhsha, ELRA, 1–6. Reykjavik, Iceland. 
                        <ptr target="https://nbn-resolving.org/urn:nbn:de:bsz:mh39-31634"/>
                    </bibl>
                    <bibl><hi rend="bold">Kupietz, Marc, Harald Lüngen, Paweł Kamocki, and Andreas Witt</hi>. 2018. “The German Reference Corpus DeReKo: New Developments – New Opportunities.” In 
                        <hi rend="italic">Proceedings of the Eleventh International Conference on Language Resources and Evaluation (LREC 2018)</hi>. Miyazaki, Japan: European Language Resources Association (ELRA).
                        <ref target="https://www.aclweb.org/anthology/L18-1689"> </ref>
                        <ptr target="https://www.aclweb.org/anthology/L18-1689"/>.
                    </bibl>
                    <bibl><hi rend="bold">Lüngen, Harald, and Christopher M. Sperberg-McQueen</hi>. 2012. “A TEI P5 Document Grammar for the IDS Text Model.” 
                        <hi rend="italic">Journal of the Text Encoding Initiative</hi>, no. 3, 1–18.
                    </bibl>
                    <bibl><hi rend="bold">McCallum, Andrew Kachites</hi>. 2002. “MALLET: A Machine Learning for Language Toolkit.”
                        <ref target="http://mallet.cs.umass.edu/"> </ref>
                        <ref target="http://mallet.cs.umass.edu/">
                            <hi rend="color(#1155cc)underline">http://mallet.cs.umass.edu</hi>
                        </ref>.
                    </bibl>
                    <bibl><hi rend="bold">Mueller, Thomas, Helmut Schmid, and Hinrich Schütze</hi>. 2013. “Efficient Higher-Order CRFs for Morphological Tagging.” In 
                        <hi rend="italic">Proceedings of the 2013 Conference on Empirical Methods in Natural Language Processing</hi>, edited by David Yarowsky, Timothy Baldwin, Anna Korhonen, Karen Livescu, and Steven Bethard, 322–32. Seattle, Washington, USA: Association for Computational Linguistics.
                        <ref target="https://aclanthology.org/D13-1032"> </ref>
                        <ptr target="https://aclanthology.org/D13-1032"/>.
                    </bibl>
                    <bibl><hi rend="bold">Nivre, Joakim, Johan Hall, Jens Nilsson, Atanas Chanev, Gülşen Eryiğit, Sandra Kübler, Svetoslav Marinov, and Erwin Marsi</hi>. 2007. “MaltParser: A Language-Independent System for Data-Driven Dependency Parsing.” 
                        <hi rend="italic">Natural Language Engineering</hi> 13 (June): 95–135.
                        <ref target="https://doi.org/10.1017/S1351324906004505"> </ref>
                        <ptr target="https://doi.org/10.1017/S1351324906004505"/>.
                    </bibl>
                    <bibl><hi rend="bold">Schmid, Helmut</hi>. 1994. “Probabilistic Part-of-Speech Tagging Using Decision Trees.” In 
                        <hi rend="italic">Proceedings of International Conference on New Methods in Language Processing</hi>, 44–49. Manchester, UK.
                        <ref target="https://www.cis.uni-muenchen.de/~schmid/tools/TreeTagger/data/tree-tagger1.pdf"> </ref>
                        <ptr target="https://www.cis.uni-muenchen.de/~schmid/tools/TreeTagger/data/tree-tagger1.pdf"/>.
                    </bibl>
                    <bibl><hi rend="bold">Weiß, Christian</hi>. 2005. “Die Thematische Erschließung von Sprachkorpora.” 
                        <hi rend="italic">OPAL - Online publizierte Arbeiten zur Linguistik</hi>, OPAL - Online publizierte Arbeiten zur Linguistik - 2005,1, 2005 (1).
                        <ref target="http://pub.ids-mannheim.de/laufend/opal/pdf/opal2005-1.pdf"> </ref>
                        <ptr target="http://pub.ids-mannheim.de/laufend/opal/pdf/opal2005-1.pdf"/>.
                    </bibl>
                </listBibl>
            </div>
        </back>
    </text>
</TEI>
